---
/**
 * Pure Astro StatusBadge component - no JavaScript shipped to client
 */
interface Props {
  code: number;
  label?: string;
}

const { code, label } = Astro.props;

function getStatusColor(code: number): string {
  if (code >= 200 && code < 300) {
    return 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20';
  }
  if (code >= 300 && code < 400) {
    return 'bg-blue-500/10 text-blue-400 border-blue-500/20';
  }
  if (code >= 400 && code < 500) {
    return 'bg-amber-500/10 text-amber-400 border-amber-500/20';
  }
  if (code >= 500) {
    return 'bg-red-500/10 text-red-400 border-red-500/20';
  }
  return 'bg-[var(--sl-color-bg-sidebar)] text-[var(--sl-color-gray-2)] border-[var(--sl-color-hairline)]';
}
---

<span class:list={[
  'inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-medium border',
  getStatusColor(code)
]}>
  <span class="font-mono font-bold">{code}</span>
  {label && <span>{label}</span>}
</span>
